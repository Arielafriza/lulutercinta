<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Janji Hati Digital - Untuk Kekasih Abadiku</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes:wght@400&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* CSS Variables dan Style Dasar (Tidak Berubah) */
        /* ... (Variabel dan CSS dasar Anda sebelumnya) ... */
        :root {
            --primary-color: #ff69b4; 
            --secondary-color: #ff1493; 
            --text-light: #f5f5f5;
            --glass-bg: rgba(255, 255, 255, 0.15);
            --bg-color-1: #ffafbd;
            --bg-color-2: #ffc3a0;
            --main-text-color: var(--text-light);
            --transition-duration: 0.8s;
        }

        body.dark-mode {
            --bg-color-1: #1a2a6c;
            --bg-color-2: #b21f1f;
            --glass-bg: rgba(0, 0, 0, 0.25);
            --main-text-color: #ffffff;
            --primary-color: #9c27b0;
            --secondary-color: #e91e63;
        }

        body {
            font-family: 'Playfair Display', serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: radial-gradient(circle at top left, var(--bg-color-1), var(--bg-color-2));
            color: var(--main-text-color);
            overflow: hidden;
            perspective: 1000px;
            position: relative;
            transition: background-color var(--transition-duration), color var(--transition-duration);
        }

        h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 5em; /* Ukuran default desktop */
            color: var(--primary-color);
            text-shadow: 0 0 15px var(--secondary-color), 0 0 30px var(--primary-color);
            margin-bottom: 25px;
            animation: neonGlow 2s infinite alternate;
            transition: color var(--transition-duration), text-shadow var(--transition-duration);
        }

        @keyframes neonGlow {
            0% { opacity: 0.9; }
            100% { opacity: 1; transform: scale(1.02); }
        }

        /* Container Glassmorphism - Sudah Responsif dengan width: 90% dan max-width */
        .card-container {
            z-index: 10;
            width: 90%; 
            max-width: 650px;
            padding: 50px; /* Padding default desktop */
            background: var(--glass-bg);
            border-radius: 30px;
            box-shadow: 0 15px 40px 0 rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            /* Penting: Transform mouse parallax diatur via JS, tapi akan dinonaktifkan di mobile */
            transition: transform 0.1s ease-out, background var(--transition-duration);
        }
        
        p {
            font-size: 1.15em; /* Ukuran default desktop */
            line-height: 1.8;
            margin-bottom: 20px;
            color: var(--main-text-color);
            transition: color var(--transition-duration);
        }

        .signature {
            font-family: 'Great Vibes', cursive;
            font-size: 2.5em; /* Ukuran default desktop */
            margin-top: 35px;
            color: var(--primary-color);
            transition: color var(--transition-duration);
        }

        /* Tombol Interaktif */
        .reveal-btn {
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
            color: var(--text-light);
            border: none;
            padding: 18px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 35px;
            transition: all 0.4s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
            text-transform: uppercase;
        }

        /* Pesan Tersembunyi */
        #hiddenMessage {
            margin-top: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            border: 1px solid var(--primary-color);
            font-style: italic;
            color: #333;
            font-size: 1.05em;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: opacity 1.2s ease-out, max-height 1.2s ease-out;
        }

        #hiddenMessage p {
            color: #1a1a1a !important; /* Memastikan teks pesan rahasia kontras */
        }
        
        #hiddenMessage.show {
            opacity: 1;
            max-height: 400px;
        }
        
        /* Animasi Hati dan Ledakan */
        /* ... (CSS Heart Particle dan Heart Explosion Anda sebelumnya) ... */
        .heart-particle {
            position: absolute;
            animation: heartFloat 15s linear infinite;
            opacity: 0;
            pointer-events: none;
            text-shadow: 0 0 5px var(--primary-color);
        }

        @keyframes heartFloat {
            0% { transform: translate(0, 0) scale(0.5); opacity: 0; }
            10% { opacity: 0.9; }
            90% { opacity: 0.2; }
            100% { transform: translate(var(--x-end), -100vh) scale(1.5); opacity: 0; }
        }

        .heart-explosion {
            position: absolute;
            font-size: 2em;
            color: var(--primary-color);
            animation: explode 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes explode {
            0% { transform: scale(1) translate(0, 0); opacity: 1; }
            100% { transform: scale(0) translate(var(--rand-x), var(--rand-y)); opacity: 0; }
        }
        
        /* ==================================== */
        /* MEDIA QUERIES UNTUK RESPONSIVITAS HP */
        /* ==================================== */
        @media (max-width: 768px) {
            
            body {
                /* Nonaktifkan efek 3D Parallax pada perangkat sentuh */
                perspective: none; 
            }

            .card-container {
                width: 95%; /* Sedikit lebih lebar di HP */
                padding: 30px 20px; /* Kurangi padding untuk layar sempit */
                border-radius: 20px; /* Kurangi border radius */
                box-shadow: 0 10px 20px 0 rgba(0, 0, 0, 0.3);
                /* Hapus transformasi Parallax untuk menghindari bug visual */
                transform: none !important; 
            }

            h1 {
                font-size: 3.5em; /* Kurangi ukuran judul utama */
                margin-bottom: 15px;
            }

            p {
                font-size: 1em; /* Kurangi ukuran teks paragraf */
                line-height: 1.6;
            }

            .signature {
                font-size: 2em; /* Kurangi ukuran tanda tangan */
                margin-top: 25px;
            }

            .reveal-btn {
                padding: 15px 30px; /* Kurangi ukuran tombol */
                font-size: 1.1em;
            }

            #hiddenMessage {
                padding: 15px;
            }
            
            /* Sembunyikan pesan interaksi keyboard di HP */
            .card-container p:last-child { 
                display: none; 
            }
            
            /* Ikon Audio (Agar lebih mudah dijangkau) */
            div[onclick="toggleAudio()"] {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body id="body">
    
    <audio id="romanticAudio" loop>
        <source src="https://drive.google.com/uc?id=1ZXX0X8tmwc_PN5Sop_tXsUxkaQvKwPeo&export=download" type="audio/mp3">
        Maaf, browser Anda tidak mendukung elemen audio.
    </audio>
    <div style="position: fixed; top: 20px; right: 20px; z-index: 101; cursor: pointer; color: var(--primary-color); font-size: 1.8em;" onclick="toggleAudio()">
        <span id="audioIcon">ðŸ”Š</span>
    </div>

    <div class="card-container" id="mainCard">
        <h1>Hayy Luluu</h1>
        
        <p>Maaf yaa lulu, untuk semua kesalahan ai yang di sengaja maupun engga di sengaja dan apapun itu yang membuat lulu kecewa, ai tau lulu pasti bosen denger kata maaf dari ai tapi, percayalah bokeemm, ai lebih baik meminta maaf beribu ribu kali daripada ai harus kehilangan lulu.</p>
        <p>Ai mau terimakasih juga karna lulu uda maafin ai berkali-kali, lulu sangat sabar menghadapi sifat ai yang keras kepala suka melanggar dan membuat kesalahan terulang kembali .</p>

        <button class="reveal-btn" onclick="toggleHiddenMessage()">
            Buka Bab Berikutnya
        </button>

        <div id="hiddenMessage">
            <p style="color: #1a1a1a;"><strong>Bab Rahasia:</strong> Allah telah menulis nama kita berdua di Lauhulmahfus, sebuah catatan takdir yang tak berubah. Aku yakin, kita adalah jodoh yang telah ditentukan, dan tidak ada yang dapat memisahkan kita. Kamu adalah hadiah terindah yang Allah berikan kepadaku, dan aku akan selalu bersyukur atas kehadiranmu. Bersama, kita akan menjalani hidup ini dengan penuh cinta, iman,Â danÂ harapan.</p>
            <p style="color: #1a1a1a;">Aku ingin menua bersamamu, menyaksikan matahari terbit dan terbenam, selamanya.</p>
        </div>

        <p class="signature">Dari: [Nama Anda - Pengagum Abadi]</p>
        <p style="font-size: 0.8em; color: var(--main-text-color);">Tekan tombol 'C' untuk kejutan! ðŸ’–</p>
    </div>

    <script>
        // --- 1. SETUP GLOBAL ---
        const body = document.getElementById('body');
        const card = document.getElementById('mainCard');
        const audio = document.getElementById('romanticAudio');
        const audioIcon = document.getElementById('audioIcon');
        const colors = ['#ff69b4', '#ff1493', '#ffc0cb', '#f08080'];

        // Tentukan mode warna berdasarkan waktu (simulasi mode malam)
        const currentHour = new Date().getHours();
        if (currentHour < 6 || currentHour > 18) {
            body.classList.add('dark-mode');
        }

        // --- 2. Hati Melayang (Partikel) ---
        function createHeartParticle() {
            const heart = document.createElement('div');
            heart.classList.add('heart-particle');
            heart.innerText = 'âœ¨';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 8 + 7 + 's';
            heart.style.fontSize = Math.random() * 1.5 + 1.2 + 'em';
            heart.style.color = colors[Math.floor(Math.random() * colors.length)];
            heart.style.setProperty('--x-end', (Math.random() * 50 - 25) + 'px');
            document.body.appendChild(heart);

            setTimeout(() => { heart.remove(); }, 15000);
        }
        setInterval(createHeartParticle, 400);

        // --- 3. Tombol Rahasia ---
        function toggleHiddenMessage() {
            const message = document.getElementById('hiddenMessage');
            const button = document.querySelector('.reveal-btn');
            message.classList.toggle('show');

            if (message.classList.contains('show')) {
                button.textContent = 'Sembunyikan Rahasia Hati';
            } else {
                button.textContent = 'Buka Bab Berikutnya';
            }
        }

        // --- 4. Parallax Mouse Effect (3D) ---
        // Hanya aktifkan Parallax jika lebar layar lebih dari 768px (Desktop)
        if (window.innerWidth > 768) {
            document.addEventListener('mousemove', (e) => {
                const xAxis = (window.innerWidth / 2 - e.clientX) / 20;
                const yAxis = (window.innerHeight / 2 - e.clientY) / 20;
                card.style.transform = `rotateY(${xAxis}deg) rotateX(${-yAxis}deg) scale(1.05)`;
            });

            document.addEventListener('mouseleave', () => {
                card.style.transform = 'rotateY(0deg) rotateX(0deg) scale(1.0)';
            });
        }

        // --- 5. Interaksi Keyboard ('C' for Cinta) ---
        document.addEventListener('keypress', (e) => {
            if (e.key === 'c' || e.key === 'C') {
                // Gunakan posisi mouse jika ada, jika tidak, gunakan tengah layar
                const x = e.clientX || window.innerWidth / 2;
                const y = e.clientY || window.innerHeight / 2;
                triggerHeartExplosion(x, y);
            }
        });
        
        function triggerHeartExplosion(x, y) {
            for (let i = 0; i < 20; i++) {
                const explosionHeart = document.createElement('div');
                explosionHeart.classList.add('heart-explosion');
                explosionHeart.innerText = 'â¤ï¸';

                explosionHeart.style.left = x + 'px';
                explosionHeart.style.top = y + 'px';
                
                explosionHeart.style.setProperty('--rand-x', (Math.random() * 400 - 200) + 'px');
                explosionHeart.style.setProperty('--rand-y', (Math.random() * 400 - 200) + 'px');
                
                document.body.appendChild(explosionHeart);

                setTimeout(() => {
                    explosionHeart.remove();
                }, 1000);
            }
        }
        
        // --- 6. Audio Kontrol ---
        document.addEventListener('DOMContentLoaded', () => {
            audio.volume = 0.5;
            audio.play().catch(error => {
                console.log("Auto-play blocked.");
            });
        });

        function toggleAudio() {
            if (audio.paused) {
                // Pastikan lagu bisa diputar setelah interaksi
                audio.play().catch(e => console.error("Play failed after interaction:", e)); 
                audioIcon.textContent = 'ðŸ”Š';
            } else {
                audio.pause();
                audioIcon.textContent = 'ðŸ”‡';
            }
        }
    </script>
</body>
</html>